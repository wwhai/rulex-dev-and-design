<TeXmacs|2.1.1>

<style|<tuple|generic|captions-above|chinese>>

<\body>
  <doc-data|<doc-title|RULEX \<#8FB9\>\<#7F18\>\<#8BBE\>\<#5907\>\<#5F00\>\<#53D1\>\<#6307\>\<#5357\>>|<doc-author|<author-data|<author-name|wwhai>|<\author-affiliation>
    2022\<#5E74\>11\<#6708\>24\<#65E5\>
  </author-affiliation>>>>

  <\remark>
    \<#8BE5\>\<#6587\>\<#6863\>\<#57FA\>\<#4E8E\>
    V0.4.0\<#4E3B\>\<#5206\>\<#652F\>\<#3002\>
  </remark>

  <new-page><abstract-data|<abstract|\<#672C\>\<#6587\>\<#4E3B\>\<#8981\>\<#8BB2\>\<#89E3\>\<#4E86\>
  RULEX \<#8FB9\>\<#7F18\>\<#8BBE\>\<#5907\>\<#5F00\>\<#53D1\>\<#6846\>\<#67B6\>\<#7684\>\<#5F00\>\<#53D1\>\<#6280\>\<#5DE7\>\<#5DF2\>\<#7ECF\>\<#51E0\>\<#4E2A\>\<#5173\>\<#952E\>\<#6982\>\<#5FF5\>\<#FF0C\>\<#4ECE\>\<#800C\>\<#8BA9\>\<#5F00\>\<#53D1\>\<#8005\>\<#52A0\>\<#6DF1\>\<#5370\>\<#8C61\>\<#FF0C\>\<#5FEB\>\<#901F\>\<#5F00\>\<#53D1\>\<#51FA\>\<#8FB9\>\<#7F18\>\<#7C7B\>\<#8BBE\>\<#5907\>\<#3002\>>>

  <\table-of-contents|toc>
    <vspace*|2fn><with|font-series|bold|math-font-series|bold|font-size|1.19|1<space|2spc>LUA\<#5F15\>\<#64CE\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-1><vspace|1fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|1<space|2spc>LUA\<#57FA\>\<#7840\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-2><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|2<space|2spc>RULEX\<#6807\>\<#51C6\>\<#5E93\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-3><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|3<space|2spc>\<#57FA\>\<#7840\>\<#793A\>\<#4F8B\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-4><vspace|0.5fn>

    <with|par-left|1tab|3.1<space|2spc>\<#6210\>\<#529F\>\<#56DE\>\<#8C03\>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-5>>

    <with|par-left|1tab|3.2<space|2spc>\<#5931\>\<#8D25\>\<#56DE\>\<#8C03\>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-6>>

    <with|par-left|1tab|3.3<space|2spc>\<#89C4\>\<#5219\>\<#56DE\>\<#8C03\>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-7>>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-8><vspace|0.5fn>

    <vspace*|2fn><with|font-series|bold|math-font-series|bold|font-size|1.19|2<space|2spc>\<#8BBE\>\<#5907\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-9><vspace|1fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|1<space|2spc>\<#8BBE\>\<#5907\>\<#63A5\>\<#53E3\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-10><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|2<space|2spc>\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-11><vspace|0.5fn>

    <with|par-left|1tab|2.1<space|2spc>Init
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-12>>

    <with|par-left|1tab|2.2<space|2spc>Start
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-13>>

    <with|par-left|1tab|2.3<space|2spc>OnRead
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-14>>

    <with|par-left|1tab|2.4<space|2spc>OnWrite
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-15>>

    <with|par-left|1tab|2.5<space|2spc>Status
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-16>>

    <with|par-left|1tab|2.6<space|2spc>Stop
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-17>>

    <with|par-left|1tab|2.7<space|2spc>Property
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-18>>

    <with|par-left|1tab|2.8<space|2spc>Details
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-19>>

    <with|par-left|1tab|2.9<space|2spc>SetState
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-20>>

    <with|par-left|1tab|2.10<space|2spc>Driver
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-21>>

    <with|par-left|1tab|2.11<space|2spc>OnSCACall
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-22>>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|3<space|2spc>\<#8FD4\>\<#56DE\>\<#503C\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-23><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-24><vspace|0.5fn>

    <vspace*|2fn><with|font-series|bold|math-font-series|bold|font-size|1.19|3<space|2spc>\<#9A71\>\<#52A8\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-25><vspace|1fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|1<space|2spc>\<#9A71\>\<#52A8\>\<#63A5\>\<#53E3\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-27><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|2<space|2spc>\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-28><vspace|0.5fn>

    <with|par-left|1tab|2.1<space|2spc>Test
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-29>>

    <with|par-left|1tab|2.2<space|2spc>Init
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-30>>

    <with|par-left|1tab|2.3<space|2spc>Work
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-31>>

    <with|par-left|1tab|2.4<space|2spc>State
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-32>>

    <with|par-left|1tab|2.5<space|2spc>Read
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-33>>

    <with|par-left|1tab|2.6<space|2spc>Write
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-34>>

    <with|par-left|1tab|2.7<space|2spc>DriverDetail
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-35>>

    <with|par-left|1tab|2.8<space|2spc>Stop
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-36>>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|3<space|2spc>\<#8FD4\>\<#56DE\>\<#503C\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-37><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-38><vspace|0.5fn>

    <vspace*|2fn><with|font-series|bold|math-font-series|bold|font-size|1.19|4<space|2spc>\<#603B\>\<#7ED3\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-39><vspace|1fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|1<space|2spc>\<#540D\>\<#8BCD\>\<#7406\>\<#89E3\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-40><vspace|0.5fn>

    <vspace*|1fn><with|font-series|bold|math-font-series|bold|2<space|2spc>\<#5F00\>\<#53D1\>\<#5EFA\>\<#8BAE\>>
    <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
    <no-break><pageref|auto-42><vspace|0.5fn>
  </table-of-contents>

  <author-data><chapter|LUA\<#5F15\>\<#64CE\>>

  RULEX\<#6846\>\<#67B6\>\<#5F15\>\<#5165\>\<#4E86\>\<#4E00\>\<#4E2A\> LUA
  \<#811A\>\<#672C\>\<#89E3\>\<#91CA\>\<#5668\>\<#FF0C\>\<#7528\>\<#6765\>\<#5904\>\<#7406\>\<#7528\>\<#6237\>\<#81EA\>\<#5B9A\>\<#4E49\>\<#4E1A\>\<#52A1\>\<#903B\>\<#8F91\>\<#3002\>\<#8BE5\>
  LUA \<#89E3\>\<#91CA\>\<#5668\>\<#57FA\>\<#4E8E\>LUA
  5.0\<#FF0C\>\<#53EF\>\<#4EE5\>\<#8FD0\>\<#884C\>\<#6807\>\<#51C6\>LUA\<#4EE3\>\<#7801\>\<#FF0C\>\<#540C\>\<#65F6\>\<#63D0\>\<#4F9B\>\<#4E86\>\<#4E00\>\<#7CFB\>\<#5217\>
  RULEX \<#6846\>\<#67B6\>\<#7279\>\<#6709\>\<#7684\>\<#51FD\>\<#6570\>\<#3002\>

  <section|LUA\<#57FA\>\<#7840\>>

  LUA \<#662F\>\<#4E00\>\<#4E2A\>\<#5C0F\>\<#5DE7\>\<#7684\>\<#7F16\>\<#7A0B\>\<#8BED\>\<#8A00\>\<#FF0C\>\<#8FD9\>\<#91CC\>\<#53EA\>\<#505A\>\<#4E2A\>\<#7B80\>\<#5355\>\<#4ECB\>\<#7ECD\>\<#FF0C\>\<#66F4\>\<#591A\>\<#8D44\>\<#6599\>\<#53EF\>\<#4EE5\>\<#53C2\>\<#8003\>\<#FF1A\>

  <\itemize-dot>
    <item>https://www.twle.cn/l/yufei/lua53/lua-basic-index.html

    <item>https://www.lua.org/docs.html
  </itemize-dot>

  <section|RULEX\<#6807\>\<#51C6\>\<#5E93\>>

  RULEX \<#6846\>\<#67B6\>\<#5185\>\<#7F6E\>\<#4E86\>\<#4E00\>\<#4E9B\>\<#51FD\>\<#6570\>\<#FF0C\>\<#53EF\>\<#53C2\>\<#8003\>\<#6B64\>\<#5904\>\<#FF1A\>

  <\itemize-dot>
    <item>https://github.com/i4de/rulex/wiki/RULEX-%E5%87%BD%E6%95%B0%E5%BA%93
  </itemize-dot>

  <section|\<#57FA\>\<#7840\>\<#793A\>\<#4F8B\>>

  \<#7ECF\>\<#8FC7\>\<#4E0A\>\<#9762\>\<#7684\>\<#5B66\>\<#4E60\>\<#4EE5\>\<#540E\>\<#FF0C\>\<#76F8\>\<#4FE1\>\<#4F60\>\<#5DF2\>\<#7ECF\>\<#638C\>\<#63E1\>\<#4E86\>
  LUA \<#8BED\>\<#8A00\>\<#7684\>\<#57FA\>\<#7840\>\<#8BED\>\<#6CD5\>\<#548C\>
  RULEX \<#7684\>\<#57FA\>\<#7840\>\<#5E93\>\<#3002\>\<#4E0B\>\<#9762\>\<#6211\>\<#4EEC\>\<#91CD\>\<#70B9\>\<#8BB2\>\<#4E00\>\<#4E0B\>
  RULEX \<#7684\> LUA \<#56DE\>\<#8C03\>\<#6846\>\<#67B6\>\<#3002\>

  <subsection|\<#6210\>\<#529F\>\<#56DE\>\<#8C03\>>

  \<#5F53\>\<#56DE\>\<#8C03\>\<#6210\>\<#529F\>\<#540E\>\<#FF0C\>\<#4F1A\>\<#6267\>\<#884C\>
  Success \<#51FD\>\<#6570\>\<#FF0C\>\<#4E0B\>\<#9762\>\<#662F\>\<#4E00\>\<#4E2A\>\<#7B80\>\<#5355\>\<#7684\>\<#6848\>\<#4F8B\>\<#FF1A\>

  <\fortran-code>
    function Success() <with|color|orange|>

    \ \ \ \ print("Success Callback")

    end
  </fortran-code>

  \<#4E0A\>\<#9762\>\<#7684\> Demo \<#8868\>\<#793A\>\<#FF0C\>\<#5F53\>\<#6210\>\<#529F\>\<#540E\>\<#8F93\>\<#51FA\>\<#4E00\>\<#4E2A\>\<#5B57\>\<#7B26\>\<#4E32\>\<#4FE1\>\<#606F\>\<#3002\>

  \;

  <subsection|\<#5931\>\<#8D25\>\<#56DE\>\<#8C03\>>

  \<#5F53\>\<#8C03\>\<#7528\>\<#5931\>\<#8D25\>\<#4EE5\>\<#540E\>\<#FF0C\>\<#4F1A\>\<#6267\>\<#884C\>
  Falied \<#51FD\>\<#6570\>\<#FF0C\>\<#4E0B\>\<#9762\>\<#662F\>\<#4E00\>\<#4E2A\>\<#7B80\>\<#5355\>\<#7684\>\<#6848\>

  <\fortran-code>
    <cpp|>function Failed(error)\ 

    \ \ \ \ print("Callback Failed With Error:", error)

    end
  </fortran-code>

  \<#4E0A\>\<#9762\>\<#7684\> Demo \<#8868\>\<#793A\>\<#FF0C\>\<#5F53\>\<#6210\>\<#529F\>\<#540E\>\<#8F93\>\<#51FA\>\<#4E00\>\<#4E2A\>\<#5B57\>\<#7B26\>\<#4E32\>\<#4FE1\>\<#606F\>\<#FF0C\>\<#5176\>\<#4E2D\>
  error \<#53C2\>\<#6570\>\<#662F\>\<#5931\>\<#8D25\>\<#540E\>\<#7684\>\<#9519\>\<#8BEF\>\<#539F\>\<#56E0\>\<#FF0C\>\<#662F\>\<#4E2A\>\<#5B57\>\<#7B26\>\<#4E32\>\<#7C7B\>\<#578B\>\<#3002\>

  <subsection|\<#89C4\>\<#5219\>\<#56DE\>\<#8C03\>>

  \<#89C4\>\<#5219\>\<#56DE\>\<#8C03\>\<#76F8\>\<#5BF9\>\<#6765\>\<#8BF4\>\<#6BD4\>\<#8F83\>\<#590D\>\<#6742\>\<#FF0C\>\<#9996\>\<#5148\>\<#6211\>\<#4EEC\>\<#770B\>\<#770B\>\<#89C4\>\<#5219\>\<#7684\>\<#51FD\>\<#6570\>\<#539F\>\<#578B\>\<#FF1A\>

  <\fortran-code>
    \ Actions = {

    \ \ \ \ \ \ function(data)

    \ \ \ \ \ \ \ \ print("f1", data)

    \ \ \ \ \ \ \ \ return true, data

    \ \ \ \ \ \ end\<#FF0C\>

    \ \ \ \ \ \ function(data)

    \ \ \ \ \ \ \ \ print("f2", data)

    \ \ \ \ \ \ \ \ return true, data

    \ \ \ \ \ \ end

    \ \ \ \ \ \ -- other functions

    \ }
  </fortran-code>

  \<#89C4\>\<#5219\>\<#56DE\>\<#8C03\> Actions
  \<#662F\>\<#4E00\>\<#4E2A\><em| LUA \<#51FD\>\<#6570\>\<#5217\>\<#8868\>>\<#FF0C\>\<#53EF\>\<#4EE5\>\<#5728\>\<#91CC\>\<#9762\>\<#52A0\>\<#5165\>\<#591A\>\<#4E2A\>\<#533F\>\<#540D\>\<#51FD\>\<#6570\>\<#FF0C\>\<#51FD\>\<#6570\>\<#53EA\>\<#6709\>1\<#4E2A\>\<#53C2\>\<#6570\>\<#FF0C\>\<#8BE5\>\<#53C2\>\<#6570\>\<#662F\>\<#539F\>\<#59CB\>\<#6570\>\<#636E\>\<#FF0C\>\<#6709\>2\<#4E2A\>\<#8FD4\>\<#56DE\>\<#503C\>\<#FF0C\>\<#7B2C\>\<#4E00\>\<#4E2A\>\<#8FD4\>\<#56DE\>\<#503C\>\<#8868\>\<#793A\>\<#662F\>\<#5426\>\<#7EE7\>\<#7EED\>\<#6267\>\<#884C\>\<#4E0B\>\<#9762\>\<#7684\>\<#51FD\>\<#6570\>\<#FF0C\>\<#7B2C\>\<#4E8C\>\<#4E2A\>\<#53C2\>\<#6570\>\<#8868\>\<#793A\>\<#8FD4\>\<#56DE\>\<#7ED9\>\<#4E0B\>\<#9762\>\<#7684\>\<#51FD\>\<#6570\>\<#7684\>\<#503C\>\<#3002\>

  <section|\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>

  \<#4E0B\>\<#9762\>\<#5C55\>\<#793A\>\<#4E00\>\<#4E2A\>\<#6848\>\<#4F8B\>\<#FF0C\>\<#8BE5\>\<#6848\>\<#4F8B\>\<#662F\>\<#7528\>\<#6765\>\<#63A7\>\<#5236\>\<#4E00\>\<#4E2A\>8\<#8DEF\>\<#7EE7\>\<#7535\>\<#5668\>\<#7684\>Demo\<#FF1A\>

  <\julia-code>
    Actions = {

    \ \ \ \ function(data)

    \ \ \ \ \ \ \ \ print('Received data from iothub:', data)

    \ \ \ \ \ \ \ \ local source = 'tencentIothub'

    \ \ \ \ \ \ \ \ local device = 'YK8Device1'

    \ \ \ \ \ \ \ \ local dataT, err = rulexlib:J2T(data)

    \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ print('Received data from iothub parse to json
    error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ -- Action

    \ \ \ \ \ \ \ \ if dataT['method'] == 'action' then

    \ \ \ \ \ \ \ \ \ \ \ \ local actionId = dataT['actionId']

    \ \ \ \ \ \ \ \ \ \ \ \ if actionId == 'get_state' then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local readData, err =
    rulexlib:ReadDevice(0, device)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('ReadDevice data from
    device error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('ReadDevice data from device:',
    readData)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local readDataT, err =
    rulexlib:J2T(readData)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('Parse ReadDevice data from
    device error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local yk08001State =
    readDataT['yk08-001']

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('yk08001State:',
    yk08001State['value'])

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local _, err =
    iothub:ActionSuccess(source, dataT['id'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yk08001State['value'])

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('ActionReply error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ -- Property

    \ \ \ \ \ \ \ \ if dataT['method'] == 'property' then

    \ \ \ \ \ \ \ \ \ \ \ \ local schemaParams = rulexlib:J2T(dataT['data'])

    \ \ \ \ \ \ \ \ \ \ \ \ print('schemaParams:', schemaParams)

    \ \ \ \ \ \ \ \ \ \ \ \ local n1, err = rulexlib:WriteDevice(device, 0,
    rulexlib:T2J({

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ['function'] = 15,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ['slaverId'] = 3,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ['address'] = 0,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ['quantity'] = 1,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ['value'] = rulexlib:T2Str({

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [1] =
    schemaParams['sw8'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [2] =
    schemaParams['sw7'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [3] =
    schemaParams['sw6'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [4] =
    schemaParams['sw5'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [5] =
    schemaParams['sw4'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [6] =
    schemaParams['sw3'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [7] =
    schemaParams['sw2'],

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [8] = schemaParams['sw1']

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ })

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ \ \ \ \ }))

    \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('WriteDevice error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local _, err =
    iothub:PropertyFailed(source, dataT['id'])

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then\ 

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('Reply error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ \ \ \ \ else

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local _, err =
    iothub:PropertySuccess(source, dataT['id'], {})

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if (err ~= nil) then

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print('Reply error:', err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return false, data

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ end

    \ \ \ \ \ \ \ \ return true, data

    \ \ \ \ end

    }
  </julia-code>

  <chapter|\<#8BBE\>\<#5907\>>

  \<#672C\>\<#7AE0\>\<#8282\>\<#4E3B\>\<#8981\>\<#8BB2\>\<#5982\>\<#4F55\>\<#4E3A\>
  RULEX \<#7F51\>\<#5173\>\<#5F00\>\<#53D1\>\<#4E00\>\<#6B3E\>\<#8BBE\>\<#5907\>\<#FF0C\>\<#5E76\>\<#5C06\>\<#5176\>\<#4E0E\>
  RULEX \<#6846\>\<#67B6\>\<#5173\>\<#8054\>\<#FF0C\>\<#5B9E\>\<#73B0\>\<#8BBE\>\<#5907\>\<#548C\>\<#6846\>\<#67B6\>\<#4E4B\>\<#95F4\>\<#7684\>\<#901A\>\<#4FE1\>\<#3002\>

  \<#5728\> RULEX \<#6846\>\<#67B6\>\<#91CC\>\<#FF0C\>\<#628A\>\<#548C\>\<#5916\>\<#90E8\>\<#771F\>\<#5B9E\>\<#8BBE\>\<#5907\>\<#4EA4\>\<#4E92\>\<#7684\>\<#529F\>\<#80FD\>\<#79F0\>\<#4E4B\>\<#4E3A\>\<#8BBE\>\<#5907\>\<#FF0C\>\<#672C\>\<#8D28\>\<#4E0A\>\<#662F\>\<#5BF9\>\<#5916\>\<#90E8\>\<#8BBE\>\<#5907\>\<#7684\>\<#4E00\>\<#4E2A\>\<#62BD\>\<#8C61\>\<#63CF\>\<#8FF0\>\<#FF0C\>\<#6BD4\>\<#5982\>\<#53EF\>\<#80FD\>\<#662F\>\<#4E2A\>
  Modbus \<#5BA2\>\<#6237\>\<#7AEF\>\<#FF0C\>\<#4E5F\>\<#53EF\>\<#80FD\>\<#662F\>\<#4E2A\>
  TCP \<#5BA2\>\<#6237\>\<#7AEF\>\<#7B49\>\<#3002\>\<#5B83\>\<#63CF\>\<#8FF0\>\<#7684\>\<#662F\>\<#4E00\>\<#4E2A\>\<#5916\>\<#90E8\>\<#786C\>\<#4EF6\>\<#8BBE\>\<#5907\>\<#7684\>\<#901A\>\<#4FE1\>\<#884C\>\<#4E3A\>\<#3002\>

  <section|\<#8BBE\>\<#5907\>\<#63A5\>\<#53E3\>>

  \<#8981\>\<#4E3A\> RULEX \<#6846\>\<#67B6\>\<#65B0\>\<#589E\>\<#4E00\>\<#4E2A\>\<#903B\>\<#8F91\>\<#6216\>\<#8005\>\<#7269\>\<#7406\>\<#4E0A\>\<#7684\>\<#8BBE\>\<#5907\>\<#FF0C\>\<#5FC5\>\<#987B\>\<#5B9E\>\<#73B0\>\<#4EE5\>\<#4E0B\>\<#63A5\>\<#53E3\>\<#FF1A\>

  <\cpp-code>
    type XDevice interface {

    <space|3em>Init(devId string, configMap map[string]interface{}) error

    <space|3em>Start(CCTX) error

    <space|3em>OnRead(cmd int, data []byte) (int, error)

    <space|3em>OnWrite(cmd int, data []byte) (int, error)

    <space|3em>Status() DeviceState

    <space|3em>Stop()

    <space|3em>Property() []DeviceProperty

    <space|3em>Details() *Device

    <space|3em>SetState(DeviceState)

    <space|3em>Driver() XExternalDriver

    <space|3em>OnDCACall(UUID string, Command string, Args interface{})
    DCAResult

    }
  </cpp-code>

  <section|\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>

  <subsection|Init>

  \<#8BBE\>\<#5907\>\<#7684\>\<#521D\>\<#59CB\>\<#5316\>\<#51FD\>\<#6570\>\<#FF0C\>RULEX
  \<#6846\>\<#67B6\>\<#4F1A\>\<#628A\>\<#914D\>\<#7F6E\>\<#53C2\>\<#6570\>\<#4F20\>\<#9012\>\<#7ED9\>\<#8BE5\>\<#51FD\>\<#6570\>\<#FF0C\>devId
  \<#8868\>\<#793A\>\<#5176\> UUID\<#FF0C\>configMap
  \<#8868\>\<#793A\>\<#5176\>\<#5DE5\>\<#4F5C\>\<#914D\>\<#7F6E\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#4E32\>\<#53E3\>\<#7684\>\<#6CE2\>\<#7279\>\<#7387\>\<#FF0C\>\<#5947\>\<#5076\>\<#6821\>\<#9A8C\>\<#7B49\>\<#3002\>

  <subsection|Start>

  Start \<#4E00\>\<#822C\>\<#4F5C\>\<#4E3A\>\<#5E38\>\<#9A7B\>\<#4EFB\>\<#52A1\>\<#5B58\>\<#5728\>\<#FF0C\>\<#8868\>\<#793A\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#7684\>\<#4E00\>\<#4E2A\>\<#5DE5\>\<#4F5C\>\<#4E2D\>\<#72B6\>\<#6001\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#6211\>\<#4EEC\>\<#9700\>\<#8981\>\<#5468\>\<#671F\>\<#6027\>\<#91C7\>\<#96C6\>\<#67D0\>\<#4E2A\>\<#4F20\>\<#611F\>\<#5668\>\<#7684\>\<#6570\>\<#636E\>\<#7684\>\<#65F6\>\<#5019\>\<#FF0C\>Start
  \<#4E00\>\<#822C\>\<#7528\>\<#6765\>\<#542F\>\<#52A8\>\<#4E00\>\<#4E2A\>\<#7EBF\>\<#7A0B\>\<#53BB\>\<#52A8\>\<#6001\>\<#8F6E\>\<#8BE2\>\<#3002\>\<#5982\>\<#679C\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#65E0\>\<#5E38\>\<#9A7B\>\<#5DE5\>\<#4F5C\>\<#4EFB\>\<#52A1\>\<#FF0C\>\<#8BE5\>\<#63A5\>\<#53E3\>\<#8FD4\>\<#56DE\>
  nil \<#5373\>\<#53EF\>\<#3002\>

  <subsection|OnRead>

  \<#8BBE\>\<#5907\>\<#63D0\>\<#4F9B\>\<#7ED9\>\<#5916\>\<#754C\>\<#7684\>\<#8BFB\>\<#6570\>\<#636E\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#5F53\>\<#5916\>\<#754C\>\<#901A\>\<#8FC7\>
  LUA \<#8C03\>\<#7528\> rulexlib:ReadDevice
  \<#7684\>\<#65F6\>\<#5019\>\<#FF0C\>\<#53C2\>\<#6570\>\<#4F1A\>\<#4F20\>\<#9012\>\<#8FDB\>\<#6765\>\<#3002\>\<#8BE5\>\<#51FD\>\<#6570\>\<#6709\>2\<#4E2A\>\<#53C2\>\<#6570\>\<#FF0C\>\<#7B2C\>\<#4E00\>\<#4E2A\>\<#662F\>\<#7528\>\<#6765\>\<#533A\>\<#5206\>\<#8BBE\>\<#5907\>\<#7684\>\<#547D\>\<#4EE4\>\<#FF0C\>\<#7B2C\>\<#4E8C\>\<#4E2A\>\<#662F\>\<#5B57\>\<#8282\>\<#6570\>\<#7EC4\>\<#FF0C\>\<#4E5F\>\<#5C31\>\<#662F\>\<#6700\>\<#7EC8\>\<#7684\>\<#6570\>\<#636E\>\<#4FDD\>\<#5B58\>\<#5730\>\<#65B9\>\<#3002\>

  cmd \<#53C2\>\<#6570\>\<#4E3B\>\<#8981\>\<#7528\>\<#6765\>\<#505A\>\<#8F85\>\<#52A9\>\<#6027\>\<#7684\>\<#5DE5\>\<#4F5C\>\<#3002\>\<#4F8B\>\<#5982\>\<#4E00\>\<#4E2A\>\<#6E29\>\<#6E7F\>\<#5EA6\>\<#4F20\>\<#611F\>\<#5668\>\<#6709\>2\<#4E2A\>\<#6307\>\<#4EE4\>\<#FF0C\>\<#4E00\>\<#4E2A\>\<#662F\>\<#8BFB\>\<#6E29\>\<#5EA6\>\<#FF0C\>\<#4E00\>\<#4E2A\>\<#662F\>\<#8BFB\>\<#6E7F\>\<#5EA6\>\<#3002\>\<#6211\>\<#4EEC\>\<#5411\>\<#8BBE\>\<#5907\>\<#8BFB\>\<#6570\>\<#636E\>\<#7684\>\<#65F6\>\<#5019\>\<#FF0C\>\<#53EF\>\<#4EE5\>\<#5C06\>
  cmd \<#53C2\>\<#6570\>\<#4F5C\>\<#4E3A\>\<#4E00\>\<#4E2A\>\<#533A\>\<#5206\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#5BF9\>\<#4E8E\>\<#5E95\>\<#5C42\>\<#6765\>\<#8BF4\>\<#FF0C\>\<#201C\>1\<#201D\>
  \<#4EE3\>\<#8868\>\<#8BFB\>\<#6E29\>\<#5EA6\>\<#FF0C\>\<#201C\>2\<#201D\>\<#4EE3\>\<#8868\>\<#8BFB\>\<#6E7F\>\<#5EA6\>\<#FF0C\>\<#8FD9\>\<#6837\>\<#53EF\>\<#4EE5\>\<#66F4\>\<#65B9\>\<#4FBF\>\<#7684\>\<#5206\>\<#8FA8\>\<#51FA\>\<#6765\>\<#547D\>\<#4EE4\>\<#7684\>\<#7C7B\>\<#578B\>\<#3002\>

  <subsection|OnWrite>

  \<#8BE5\>\<#63A5\>\<#53E3\>\<#4E3B\>\<#8981\>\<#7528\>\<#6765\>\<#5411\>\<#8BBE\>\<#5907\>\<#5199\>\<#5165\>\<#6570\>\<#636E\>\<#7528\>\<#FF0C\>\<#5176\>\<#53C2\>\<#6570\>\<#542B\>\<#4E49\>\<#548C\>\<#4E0A\>\<#9762\>\<#7684\>
  OnRead \<#4E00\>\<#6837\>\<#3002\>\<#4F8B\>\<#5982\>\<#6539\>\<#53D8\>\<#67D0\>\<#4E2A\>\<#5BC4\>\<#5B58\>\<#5668\>\<#7684\>\<#503C\>\<#6216\>\<#8005\>\<#662F\>\<#5BF9\>\<#67D0\>\<#4E2A\>\<#8BBE\>\<#5907\>\<#8FDB\>\<#884C\>\<#64CD\>\<#4F5C\>\<#63A7\>\<#5236\>\<#7B49\>\<#3002\>\<#5E38\>\<#89C1\>\<#7684\>\<#64CD\>\<#4F5C\>\<#5C31\>\<#662F\>\<#63A7\>\<#5236\>\<#67D0\>\<#4E2A\>\<#5BC4\>\<#5B58\>\<#5668\>\<#7684\>\<#503C\>\<#6765\>\<#5B9E\>\<#73B0\>\<#706F\>\<#5149\>\<#5173\>\<#5F00\>\<#72B6\>\<#6001\>\<#63A7\>\<#5236\>\<#3002\>\<#5047\>\<#8BBE\>\<#6211\>\<#4EEC\>\<#5F00\>\<#706F\>\<#FF0C\>LUA
  \<#4EE3\>\<#7801\>\<#8868\>\<#793A\>\<#5982\>\<#4E0B\>\<#FF1A\>

  <\cpp-code>
    rulexlib:WriteDevice(UUID, 1, 1)
  </cpp-code>

  \<#8BBE\>\<#5907\>\<#7AEF\>\<#5904\>\<#7406\>\<#4EE3\>\<#7801\>\<#5982\>\<#4E0B\>\<#FF1A\>

  <\cpp-code>
    OnWrite(cmd int, data []byte){

    <space|3em>if cmd ==1 {

    <space|6em>print("\<#5F00\>\<#706F\>")

    <space|3em>}

    <space|3em>if cmd ==0{

    <space|6em>print("\<#5173\>\<#706F\>")

    <space|3em>}

    <space|3em>return 0, nil

    }
  </cpp-code>

  <subsection|Status>

  <space|2em>\<#83B7\>\<#53D6\>\<#8BBE\>\<#5907\>\<#7684\>\<#72B6\>\<#6001\>\<#FF0C\>\<#901A\>\<#5E38\>\<#8BE5\>\<#72B6\>\<#6001\>\<#5E94\>\<#8BE5\>\<#7531\>\<#8BBE\>\<#5907\>\<#5185\>\<#90E8\>\<#63A7\>\<#5236\>\<#FF0C\>RULEX
  \<#6846\>\<#67B6\>\<#901A\>\<#8FC7\>\<#83B7\>\<#53D6\>\<#8BE5\>\<#72B6\>\<#6001\>\<#6765\>\<#51B3\>\<#5B9A\>\<#8BBE\>\<#5907\>\<#7684\>\<#751F\>\<#547D\>\<#5468\>\<#671F\>\<#3002\>

  <subsection|Stop>

  <space|2em>\<#505C\>\<#6B62\>\<#8BBE\>\<#5907\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#4E00\>\<#822C\>\<#5728\>\<#8FD9\>\<#91CC\>\<#91CA\>\<#653E\>\<#8D44\>\<#6E90\>\<#3002\>

  <subsection|Property>

  \<#83B7\>\<#53D6\>\<#5C5E\>\<#6027\>\<#5217\>\<#8868\>\<#FF0C\>\<#8868\>\<#793A\>\<#8FD9\>\<#4E2A\>\<#8BBE\>\<#5907\>\<#80FD\>\<#63D0\>\<#4F9B\>\<#54EA\>\<#4E9B\>\<#53C2\>\<#6570\>\<#FF0C\>\<#8BE5\>\<#63A5\>\<#53E3\>\<#5E38\>\<#88AB\>\<#7528\>\<#6765\>\<#505A\>\<#5916\>\<#90E8\>\<#53C2\>\<#8003\>\<#7528\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#672C\>\<#7F51\>\<#5173\>\<#53EF\>\<#4EE5\>\<#63D0\>\<#4F9B\>\<#6E29\>\<#5EA6\>\<#3001\>\<#6E7F\>\<#5EA6\>\<#3001\>CO2
  \<#7B49\>\<#53C2\>\<#6570\>\<#FF0C\>\<#53EF\>\<#4EE5\>\<#5C06\>\<#5176\>\<#6CE8\>\<#518C\>\<#5230\>\<#8BE5\>\<#63A5\>\<#53E3\>\<#8FD4\>\<#56DE\>\<#3002\>

  <subsection|Details>

  \<#83B7\>\<#53D6\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#7684\>\<#8BE6\>\<#7EC6\>\<#4FE1\>\<#606F\>\<#FF0C\>\<#5373\>\<#5916\>\<#90E8\>\<#4F20\>\<#8FDB\>\<#6765\>\<#7684\>\<#53C2\>\<#6570\>\<#3002\>\<#4F8B\>\<#5982\>\<#7528\>\<#6237\>\<#65B0\>\<#5EFA\>\<#4E00\>\<#4E2A\>\<#8BBE\>\<#5907\>\<#7684\>\<#65F6\>\<#5019\>\<#53EF\>\<#80FD\>\<#4F1A\>\<#4F20\>\<#8FDB\>\<#6765\>\<#8BBE\>\<#5907\>\<#540D\>\<#79F0\>\<#FF0C\>\<#5907\>\<#6CE8\>\<#6216\>\<#8005\>\<#4E32\>\<#53E3\>\<#914D\>\<#7F6E\>\<#7B49\>\<#FF0C\>\<#90FD\>\<#901A\>\<#8FC7\>\<#8FD9\>\<#4E2A\>\<#63A5\>\<#53E3\>\<#5173\>\<#8054\>\<#3002\>

  <subsection|SetState>

  \<#8BBE\>\<#7F6E\>\<#72B6\>\<#6001\>\<#FF0C\>\<#8BE5\>\<#51FD\>\<#6570\>\<#7531\>
  RULEX \<#6846\>\<#67B6\>\<#8C03\>\<#7528\>\<#FF0C\>\<#4F1A\>\<#4F20\>\<#8FDB\>\<#6765\>\<#4E00\>\<#4E2A\>\<#72B6\>\<#6001\>\<#503C\>\<#FF0C\>\<#7528\>\<#6237\>\<#8981\>\<#505A\>\<#7684\>\<#4E8B\>\<#60C5\>\<#5C31\>\<#662F\>\<#628A\>\<#8FD9\>\<#4E2A\>\<#503C\>\<#66FF\>\<#6362\>\<#6210\>\<#81EA\>\<#5DF1\>\<#7684\>\<#72B6\>\<#6001\>\<#5373\>\<#53EF\>\<#3002\>

  <subsection|Driver>

  \<#8FD9\>\<#4E2A\>\<#63A5\>\<#53E3\>\<#7528\>\<#6765\>\<#83B7\>\<#53D6\>\<#8BBE\>\<#5907\>\<#7684\>\<#9A71\>\<#52A8\>\<#FF0C\>\<#9A71\>\<#52A8\>\<#6307\>\<#7684\>\<#662F\>\<#6865\>\<#63A5\>\<#8F6F\>\<#786C\>\<#4EF6\>\<#7684\>\<#4E00\>\<#4E2A\>\<#8F6F\>\<#4EF6\>\<#3002\>\<#4E00\>\<#822C\>\<#800C\>\<#8A00\>\<#FF0C\>\<#8BBE\>\<#5907\>\<#90FD\>\<#5E94\>\<#8BE5\>\<#6709\>\<#4E2A\>\<#9A71\>\<#52A8\>\<#FF0C\>\<#4F46\>\<#662F\>\<#4E00\>\<#4E9B\>\<#7B80\>\<#5355\>\<#8BBE\>\<#5907\>\<#53EF\>\<#4EE5\>\<#4E0D\>\<#7528\>\<#3002\>\<#6240\>\<#4EE5\>\<#89C6\>\<#60C5\>\<#51B5\>\<#800C\>\<#5B9A\>\<#FF0C\>\<#6B64\>\<#63A5\>\<#53E3\>\<#62FF\>\<#5230\>\<#7684\>\<#53EF\>\<#80FD\>\<#662F\><em|
  nil >\<#503C\>\<#3002\>

  <subsection|OnSCACall>

  \<#8BE5\>\<#63A5\>\<#53E3\>\<#5C5E\>\<#4E8E\>\<#9AD8\>\<#7EA7\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#7528\>\<#6765\>\<#5B9E\>\<#73B0\>\<#8FB9\>\<#7F18\>\<#8BBE\>\<#5907\>\<#4E4B\>\<#95F4\>\<#76F8\>\<#4E92\>\<#8C03\>\<#7528\>\<#529F\>\<#80FD\>\<#FF0C\>\<#4F46\>\<#662F\>\<#672C\>\<#7248\>\<#672C\>\<#4E0D\>\<#652F\>\<#6301\>\<#FF0C\>\<#4EC5\>\<#4EC5\>\<#4FDD\>\<#7559\>\<#4F4D\>\<#7F6E\>\<#5373\>\<#53EF\>\<#3002\>

  <section|\<#8FD4\>\<#56DE\>\<#503C\>>

  \<#5E38\>\<#89C1\>\<#8FD4\>\<#56DE\>\<#503C\>\<#FF1A\>

  <\enumerate-numeric>
    <item><strong|n>\<#FF1A\>\<#8FD4\>\<#56DE\>\<#5B57\>\<#8282\>\<#6570\>\<#76EE\>

    <item><strong|error>\<#FF1A\>\<#9519\>\<#8BEF\>\<#72B6\>\<#6001\>

    <item><strong|[]<strong|DeviceProperty>>\<#FF1A\>\<#5C5E\>\<#6027\>\<#8868\>
  </enumerate-numeric>

  <section|\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>

  \<#4E0B\>\<#9762\>\<#5C55\>\<#793A\>\<#4E00\>\<#4E2A\>\<#4E32\>\<#53E3\>\<#8BBE\>\<#5907\>\<#7684\>\<#6848\>\<#4F8B\>\<#3002\>

  <\fortran-code>
    package device

    \;

    import (

    \ \ \ \ \ \ \ \ "context"

    \ \ \ \ \ \ \ \ "encoding/json"

    \ \ \ \ \ \ \ \ "errors"

    \ \ \ \ \ \ \ \ "sync"

    \ \ \ \ \ \ \ \ "time"

    \;

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/common"

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/driver"

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/glogger"

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/typex"

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/utils"

    \ \ \ \ \ \ \ \ serial "github.com/wwhai/goserial"

    )

    \;

    type genericUartDevice struct {

    \ \ \ \ \ \ \ \ typex.XStatus

    \ \ \ \ \ \ \ \ status \ \ \ \ typex.DeviceState

    \ \ \ \ \ \ \ \ RuleEngine typex.RuleX

    \ \ \ \ \ \ \ \ driver \ \ \ \ typex.XExternalDriver

    \ \ \ \ \ \ \ \ mainConfig common.GenericUartConfig

    \ \ \ \ \ \ \ \ locker \ \ \ \ sync.Locker

    }

    \;

    /*

    *

    * \<#901A\>\<#7528\>\<#4E32\>\<#53E3\>\<#900F\>\<#4F20\>

    *

    \ */

    func NewGenericUartDevice(e typex.RuleX) typex.XDevice {

    \ \ \ \ \ \ \ \ uart := new(genericUartDevice)

    \ \ \ \ \ \ \ \ uart.locker = &sync.Mutex{}

    \ \ \ \ \ \ \ \ uart.mainConfig = common.GenericUartConfig{}

    \ \ \ \ \ \ \ \ uart.RuleEngine = e

    \ \ \ \ \ \ \ \ return uart

    }

    \;

    // \<#521D\>\<#59CB\>\<#5316\>

    func (uart *genericUartDevice) Init(devId string, configMap
    map[string]interface{}) error {

    \ \ \ \ \ \ \ \ uart.PointId = devId

    \ \ \ \ \ \ \ \ if err := utils.BindSourceConfig(configMap,
    &uart.mainConfig); err != nil {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glogger.GLogger.Error(err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return err

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ if !contains([]string{"N", "E", "O"},
    uart.mainConfig.Parity) {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return errors.New("parity value only one
    of 'N','O','E'")

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ return nil

    }

    \;

    // \<#542F\>\<#52A8\>

    func (uart *genericUartDevice) Start(cctx typex.CCTX) error {

    \ \ \ \ \ \ \ \ uart.Ctx = cctx.Ctx

    \ \ \ \ \ \ \ \ uart.CancelCTX = cctx.CancelCTX

    \;

    \ \ \ \ \ \ \ \ // \<#4E32\>\<#53E3\>\<#914D\>\<#7F6E\>\<#56FA\>\<#5B9A\>\<#5199\>\<#6CD5\>

    \ \ \ \ \ \ \ \ // \<#4E0B\>\<#9762\>\<#7684\>\<#53C2\>\<#6570\>\<#662F\>\<#4F20\>\<#611F\>\<#5668\>\<#56FA\>\<#5B9A\>\<#5199\>\<#6CD5\>

    \ \ \ \ \ \ \ \ config := serial.Config{

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Address: \ uart.mainConfig.Uart,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BaudRate: uart.mainConfig.BaudRate,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DataBits: uart.mainConfig.DataBits,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Parity: \ \ uart.mainConfig.Parity,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StopBits: uart.mainConfig.StopBits,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Timeout:
    \ time.Duration(uart.mainConfig.Timeout) * time.Second,

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ serialPort, err := serial.Open(&config)

    \ \ \ \ \ \ \ \ if err != nil {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glogger.GLogger.Error("rawUartDriver
    start failed:", err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return err

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ uart.driver = driver.NewRawUartDriver(uart.Ctx,
    uart.RuleEngine, uart.Details(), serialPort)

    \ \ \ \ \ \ \ \ if !uart.mainConfig.AutoRequest {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.status = typex.DEV_UP

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return nil

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ go func(ctx context.Context) {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticker :=
    time.NewTicker(time.Duration(uart.mainConfig.Frequency) * time.Second)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer := make([]byte, common.T_64KB)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.driver.Read(0, buffer)
    //\<#6E05\>\<#7406\>\<#7F13\>\<#5B58\>

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \<less\>-ticker.C

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ select {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case \<less\>-ctx.Done():

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticker.Stop()

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ default:

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.locker.Lock()

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n, err :=
    uart.driver.Read(0, buffer)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.locker.Unlock()

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if err !=
    nil {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glogger.GLogger.Error(err)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ continue

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mapV :=
    map[string]interface{}{

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "tag":
    \ \ uart.mainConfig.Tag,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "value":
    string(buffer[:n]),

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bytes, _
    := json.Marshal(mapV)

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.RuleEngine.WorkDevice(uart.Details(),
    string(bytes))

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \;

    \ \ \ \ \ \ \ \ }(uart.Ctx)

    \ \ \ \ \ \ \ \ uart.status = typex.DEV_UP

    \ \ \ \ \ \ \ \ return nil

    }

    \;

    // \<#4ECE\>\<#8BBE\>\<#5907\>\<#91CC\>\<#9762\>\<#8BFB\>\<#6570\>\<#636E\>\<#51FA\>\<#6765\>:

    //

    // \ \ \ \ \ {

    // \ \ \ \ \ \ \ \ \ "tag":"data tag",

    // \ \ \ \ \ \ \ \ \ "value":"value s"

    // \ \ \ \ \ }

    func (uart *genericUartDevice) OnRead(cmd int, data []byte) (int, error)
    {

    \ \ \ \ \ \ \ \ uart.locker.Lock()

    \ \ \ \ \ \ \ \ n, err := uart.driver.Read(0, data)

    \ \ \ \ \ \ \ \ uart.locker.Unlock()

    \ \ \ \ \ \ \ \ buffer := make([]byte, n)

    \ \ \ \ \ \ \ \ mapV := map[string]interface{}{

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "tag": \ \ uart.mainConfig.Tag,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "value": string(buffer[:n]),

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ bytes, _ := json.Marshal(mapV)

    \ \ \ \ \ \ \ \ copy(data, bytes)

    \ \ \ \ \ \ \ \ return n, err

    }

    \;

    // \<#628A\>\<#6570\>\<#636E\>\<#5199\>\<#5165\>\<#8BBE\>\<#5907\>

    func (uart *genericUartDevice) OnWrite(cmd int, b []byte) (int, error) {

    \ \ \ \ \ \ \ \ return uart.driver.Write(0, b)

    }

    \;

    // \<#8BBE\>\<#5907\>\<#5F53\>\<#524D\>\<#72B6\>\<#6001\>

    func (uart *genericUartDevice) Status() typex.DeviceState {

    \ \ \ \ \ \ \ \ return typex.DEV_UP

    }

    \;

    // \<#505C\>\<#6B62\>\<#8BBE\>\<#5907\>

    func (uart *genericUartDevice) Stop() {

    \ \ \ \ \ \ \ \ if uart.driver != nil {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uart.driver.Stop()

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ uart.CancelCTX()

    \ \ \ \ \ \ \ \ uart.status = typex.DEV_STOP

    }

    \;

    // \<#8BBE\>\<#5907\>\<#5C5E\>\<#6027\>\<#FF0C\>\<#662F\>\<#4E00\>\<#7CFB\>\<#5217\>\<#5C5E\>\<#6027\>\<#63CF\>\<#8FF0\>

    func (uart *genericUartDevice) Property() []typex.DeviceProperty {

    \ \ \ \ \ \ \ \ return []typex.DeviceProperty{}

    }

    \;

    // \<#771F\>\<#5B9E\>\<#8BBE\>\<#5907\>

    func (uart *genericUartDevice) Details() *typex.Device {

    \ \ \ \ \ \ \ \ return uart.RuleEngine.GetDevice(uart.PointId)

    }

    \;

    // \<#72B6\>\<#6001\>

    func (uart *genericUartDevice) SetState(status typex.DeviceState) {

    \ \ \ \ \ \ \ \ uart.status = status

    }

    \;

    // \<#9A71\>\<#52A8\>

    func (uart *genericUartDevice) Driver() typex.XExternalDriver {

    \ \ \ \ \ \ \ \ return uart.driver

    }

    \;

    \;

    func contains(s []string, e string) bool {

    \ \ \ \ \ \ \ \ for _, a := range s {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if a == e {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return true

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ return false

    }

    \;

    func (uart *genericUartDevice) OnDCACall(UUID string, Command string,
    Args interface{}) typex.DCAResult {

    \ \ \ \ \ \ \ \ return typex.DCAResult{}

    }

    \;
  </fortran-code>

  <chapter|\<#9A71\>\<#52A8\>>

  \<#9A71\>\<#52A8\>\<#5B9E\>\<#9645\>\<#4E0A\>\<#5C31\>\<#662F\>\<#771F\>\<#5B9E\>\<#548C\>\<#786C\>\<#4EF6\>\<#8BBE\>\<#5907\>\<#901A\>\<#4FE1\>\<#7684\>\<#8F6F\>\<#4EF6\>\<#3002\>\<#5173\>\<#4E8E\>\<#9A71\>\<#52A8\>\<#7684\>\<#6982\>\<#5FF5\>\<#53EF\>\<#4EE5\>\<#53C2\>\<#8003\>\<#4E0B\>\<#540C\>\<#7C7B\>\<#77E5\>\<#8BC6\>\<#70B9\>\<#FF0C\>\<#4F8B\>\<#5982\>
  Linux \<#9A71\>\<#52A8\>\<#7B49\>\<#FF0C\>\<#6B64\>\<#5904\>\<#4E0D\>\<#8FC7\>\<#591A\>\<#8D58\>\<#8FF0\>\<#3002\>\<#4E0B\>\<#9762\>\<#4E3B\>\<#8981\>\<#8BB2\>\<#4E00\>\<#4E0B\>
  RULEX \<#6846\>\<#67B6\>\<#91CC\>\<#9762\>\<#7684\>\<#8BBE\>\<#5907\>\<#9A71\>\<#52A8\>\<#7684\>\<#6982\>\<#5FF5\>\<#3002\>

  \<#5728\> RULEX \<#91CC\>\<#FF0C\>\<#9A71\>\<#52A8\>\<#8D1F\>\<#8D23\>\<#8BFB\>\<#53D6\>\<#4E00\>\<#4E9B\>\<#6765\>\<#81EA\>\<#4F4E\>\<#7EA7\>\<#786C\>\<#4EF6\>\<#7684\>\<#6570\>\<#636E\>\<#FF0C\>\<#6BD4\>\<#5982\>\<#4E32\>\<#53E3\>\<#FF0C\>\<#6216\>\<#8005\>485\<#94FE\>\<#8DEF\>\<#7B49\>\<#3002\>\<#9A71\>\<#52A8\>\<#4FDD\>\<#8BC1\>\<#4E86\>\<#548C\>\<#8BBE\>\<#5907\>\<#7684\>\<#6570\>\<#636E\>\<#4EA4\>\<#4E92\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#8BFB\>\<#5199\>
  Modbus \<#5BC4\>\<#5B58\>\<#5668\>\<#7B49\>\<#3002\>\<#5176\>\<#5DE5\>\<#4F5C\>\<#539F\>\<#7406\>\<#5982\>\<#56FE\>1\<#6240\>\<#793A\>\<#3002\>

  <\padded-center>
    <\small-figure>
      \;

      <\padded-center>
        \;
      </padded-center>

      <image|<tuple|<#89504E470D0A1A0A0000000D494844520000011C000000BD0802000000EEA155480000000373424954080808DBE14FE0000000097048597300000EC400000EC401952B0E1B000016F349444154789CEDDD716C13E7DD07F0AF5F216634908C14BDBA9474C56BC8EA0A261C608A4F80948354C38C49B117B6D82B8CB9A482D04A342612D8786B70A8161C98FAE2310A2E4D2A3B1B2CDE28C2D11AE5B22DCA391353DCB135292CAAA7C16A6B638B3532C56355FDFE613B318EE338E149E224BF8FF8C3777EEEEE71C237CF73BF3BDBB2582C0642083BFF33DF1D2064B1A15011C218858A10C62854843046A12284310A15218C51A808618C42450863CB726C77F7EEDDF2F2F259ED0A21F9EF7BDFFB5E4D4D4DF636B9860AC0CA952BBBBBBB9FAC4B842C60AFBFFE7A2ECDA6112A004F3DF5D48C3A43C81242E754843046A12284310A15218C51A808618C42450863142A4218A35011C218858A10C62854843046A12284310A15218C51A808618C42450863142A4218A350918CA2914874BEFBB0504DEFFD54640189FCCE69AA7697BE2B5ACAE40010F1BB2E4991F4560AFEA049A3485B19F59F12789B1F65F6FE6E8B5A3E27DD5D4428548B5574F03D977728E0AD3429FD6EC35A6024E8AB377BD39BE9DCD569A18A06CEE975363F006E44347F5DCCB0EFF575EEB35A6E963ABEF0D1F42FABBE4659667ACFFD649BFB1E7DDA1A0080FF944C2693C9F67AC2A98BA7FC198F136ED34F72A0E41E923DD1B785276ED5D8377197724DBDD35E06843DC6C3AE208007A120000896AB5D5D62579778DE94A12311D1B65BFB9A2F0C70EB85E70B1F7F323420768A62A728DE9F30E0911414AA99F11A9F4E4FD1EC2AB3480D00E035D4268E7BDF536BF00240836429CBB4C94A4DDD198BA6DC72F36D93120874BA030038415F2508E582505EAA048060F0CF914824128902619F5550ED3825C6531B8E2A74A7DBBBDEEF8AFF731FD72AA261002836B99B0C344C6541A1CA85CE7D2F9642B20380D77825F3B0337355EE506C82AB89FFC19A93C9E3BEE60923EC79CDE80500BB745233D9FEE45BED9268D77288745A6BEB0300D4AF69D5C927C1010858B7AD5EBD7AB5E377880C05C4EE30576EE9FAFB70FF592D37E43DB265F517F7367ADA9C2F09858582D93BC40947DD03B72E1BD6327EDD8B0C9D53CD804668006CF3705C8BDF6ED55871CD58284BACB2FB2D992215F49DF10E261EAB74C7B485AB56004099DD79289929A80D6FD5F59FF67A1F708292E78BA1E02C62C814E53805A2914A7B7368D878C61FBC66355E4B6CA06D70DA5F140A1105A876910D856A06FCA20D0074C5CAB93E7299456AB0F263799E6CE28770A0DE6C4D3CB6F3C7B4CA629DB961402CD28CDE12C72B0F2BB5B5A7B5B540E106415510F15F71DDBC25F93F1A1CE81E1C3F6F2BD6084F47E26B7C36BD6FFC4F0967E909D9B7327E7D8B03852A175EE3D33263FA4ABBB99AF599C53563E184E3D8FDB1D4E4680EB875B629277E9CBAC9E1088AE60BBEC48A21AFDEE6013CCE4CADEDFE98A540A1520CF217E2D541A5A642E0ABB57A8DA07E4E2107108D0C7E204A3ED1D7D71FE8F407016C34EB295193A050CD44DA7FF4B914EE694F96C5AD8E36537BE6602BB5C7EAB47DD1F1502D53081542E80F41C506E58AB1560F83625F10E0E2FF0B14BBECFDA2DA29D8A572E50A04036DCE40DBC40CAE505608DCB63ADF516DFAC52D9244A1CA85CE7DAFDD5084709BBED0E00560EDF45BCA262D0F3C6683721AC359953B74356B616DACE207205E09DCD66E28CA61CF9BF5751BBDA6CE51F5D9CBEEEAF8AC35E23BAC12FB80AA66D36600809C5397972A1176758707B3ED0BD86657ACCCE1A04B1555FFA681AB6E8FD7B561E3C7AF1715294B01C01B9CF50AFB58C54FE7F6BB7540B21238953F7BAC5786556A0E087B0C466B6704880E5EAA355D0803BA8CF571BB3F59E86CC8B048B2A3504D8FE664C85D05A45E2F8252590500564DE37889BDAF91675DCC08B7D5C60B713A8FD35066707A740070CD58DB963D562E6385B171305458EDF23668007FE30BA5BBBFBE5BA8F184C1193C8E8CF571D7D11D3B5ED8B1E3851D75AD1916497614AAE9E20C6793A344E23A156778CD0E00B0F263B74168E2B5B709C50C1B9FF98689B86BC6C20CB75434FA9132F1AB723BAB39005CB57342BC330A0687C03D884420D79CF4BAAB01047D37C430A03AEE765667CEBC4AADD55668B515DAD2751916497614AAE92B4A8E12363E717F5099257945384583148B65BC8834032913BFB363B3B59478679A0446E2B725019A57DAC5D3AA81B646E306B5B16DBCC1E01B3B56AFDB7DC4E6F2F60DA6DD92AEDE63321D34990E9AB41B332C92294CBC829FD19D3B774A4A4A726C4CF242C0A101340DD280E7B1B3266595A32BD0E5A84A1DA374EE607C9B097F1A326A90E6F585CD9B9A9A9A8B172F4ED98CAA7F8BD7C63AD72DA170B35A0165F3CF3DC61E95B6B2B6F635A3B6580140B8FA71ED7DBFF78AEB7CAB2B5A634D3BB3D21E7208992686C16EB3B3632EFABEA0C962B1582EEDEEDEBDBB67CF9E3B77EECC7687C8AC8846A2CB14F2C9FE847E3A7E6D25FEE644F9CA491A8F44229F02CB144BB3A4FEF2CB2F6FDAB489E5372992054CAEC876BB5ECAFF02B9226BCB950ABAE63B252A5410C218858A10C62854843046A12284310A15218C51A808618C42450863142A4218A35011C218858A10C62854843046A12284310A15218C51A808618C42450863D3783FD5C8C8C89A356B66AF2B84E4BF4D9B364DD926D777FE7EF2C9274FDC1F421683A79E7A2A7B835C434508C9119D5311C218856A61F8CB5FFEF2E52F7FB9A9A969BE3B42A646A15A18F6EDDBB773E7CE37DE78A3A3833E222CDFD139D50270F0E0C1CF3EFBCCE572BDF7DE7B2FBDF4526F6FEFBA75F4F9CBF98B4295EF7EF0831FF87CBE5FFFFAD7F1C5B367CFFEEC673FEBEDED95C964D93724F3854295D7BC5EEF91234724495ABB76EDD8CA43870EFDFBDFFF6E6DA56FE0C85314AAFC75FBF66D9EE77FF18B5FECDCB933EDA98A8A8AEDDBB79F3C79725E3A46B2A34FA8CD53A3A3A3FBF7EF3F73E6CCC44401686969E179BEB8B8B8BABA7AEEFB46B2A3912A4F5555557DE10B5F686E6E9EACC16F7EF39B9D3B774A92B479F3E6B9EC18991295D4F3D1891327FEF39FFF64491480EDDBB75FB87061FFFEFD914864CE3A4672412355DE79FBEDB71D0E476F6FEFEAD5ABA76C7CFCF8F1818181EBD7AFCF41C7488E2854F9A5A7A74710044992B66CD992E326DFF8C6379E79E699ECC31A994B34FDCB23A15068DFBE7DADADADB9270A406B6B6B5757D78F7FFCE3D9EB1899161AA9F2C80B2FBCB075EB569BCD36DD0D7FFFFBDFF33C7FFDFAF58CA54232C72854F9E2F0E1C323232333BEA4DBDEDEFEEAABAF4A92F4CC33CFB0ED18992EBA4E9517CE9D3B17080424499AF11EF47AFD9FFEF4A7FDFBF7FFEA57BF62D72F32133452CDBF1B376E7CF7BBDFEDEDED2D292979C25DBDF4D24B002E5FBECCA25F64862854F36FDBB66DB76FDF5EBE7C79DAFA582CB67DFB76AFD73B7193E6E6E6EF7FFFFB727986AFE71D1919B975EBD6FAF5EB67A5AF240714AAF9F7E0C1838CEB474646366CD8F0F0E1C3894FBDFAEAAB050505870F1F9EF8D4A3478FA6FC100532ABE89C6AFE151414645CFFB9CF7D6EB2F7772C5FBEFCF39FFFFC641B92F945D7A908618C42450863142A4218A3502D36E136BD2C93C6BEDC36DCEB09CF493F17310AD55261D5C864A7FCF3DD8B258142B54855B943B171520300C0C66719AFB8EAF6582C16BB6AE0E6AA8F8B15856A49D09C0CB9AB00C0DA191FACFC8D893961E2816CAFE776EAF4AF2FF1FCF8D076DFA397C96432BDE77E6245EA3C53DF363E67F49F92C96432D9297FE241CA264B04856A89E0844A1D00D8C4D429A055C35B0100BA4AE17F539B97097600B08AC991CD7FC5E805D06036140180FF94ACD0307EAB87D750983EB7B4F17CFC6EFB2ABD50C4F0852C0014AAA5825396665A6D9762B1582CD65E9D36E9D3080D40CAC826DA00C05EA10180BE46DE36BE6D2C26D901D81C692392DD1F5B9AF3490AD592A6F39834933CA539E0D62139B2F5895600B00B6500100EF60300AC7C62F6171FEEBCED3D2985C32AB7A96CF63A9ED728544B453209392B12F45588CF00FD9D56006810E2090C0E65B8C7978CA1502D15892424831157AACC32354B9C86593B1B451B009DFB40625365B10E482F30A6CF213764DBF5E246A15A12C26D7A3EF5A42837DC36BD0E80CD6AC563F586C4E9D935A32B5EC69850185CE228548BD4356361CAED14894A5D836499D6794E91C1DC9078A8AB14C6479E3253A240AF91C96432D9D38F150609856A89D0B9EFC56227A7314CC5692AECF1CDF5DB5267739CE16AF282725C8334839D2F56F426C5FCF5F0E1C3356BD6FCEB5FFF9AF894D96C2E2C2CACABAB9BFB5E9129D148450863142A4218A35011C2187D46C5FCFBE637BFF9C1071F4CFC34A5CF3EFB4CA95466DCE4D1A3470E87E39D77DE99F8D4279F7CF28F7FFC83792749EE2854F3AFA8A8686868A8A5A525F74D1A1B1B6B6A6A26AE7FE79D77445164D735321354FDCB0B353535FFFDEF7FAF5CB9F2243BB97EFD7A4D4D8D2449CF3EFB2CAB8E9119A050E50B411076EEDC79E2C489996DFEE1871FF23CFFD39FFEF4AB5FFD2ADB8E91E9A250E58B7BF7EEF13CDFDCDCBC77EFDEE96EFBE8D1239EE7BFF39DEF1C39726436FA46A685429547BABBBBB55AAD24496AB57A5A1B7EEB5BDFE238EE873FFCE12C758C4C0B852ABFBCF5D65BE7CF9FEFEDED5DB56A558E9B9C3C79B2BFBFFFE6CD9BB3DA31923B0A55DEA9AFAF1F1A1ACAF8BD0413B5B4B49C3E7DBAB7B7973E023A7F50A8F2516565E5BA75EB9A9A9AB237932469EBD6AD922495952DD537D9E625BAA3221FB5B6B67674745CBA74294B9BBFFDED6FFBF6ED6B6969A144E51B1AA9F2547F7F3FCFF31D1D1DE5E5E5191BECDAB5EB2B5FF9CAEBAFBF3EC71D2353A250E5AFAB57AF9ACD6649928A8AD2DFFDF7CA2BAFFCF39FFF74BBDDF3D231921DDDA694BFF6EEDD1BFF1ADFAEAEAED4F56FBEF9E66F7FFBDB27F9826032AB68A4CA77070E1C58BE7CF9C58B17E38B3E9FEFDBDFFE766F6FAF4AA59ADF8E91C950A122DF5DB972E5C30F3F74381C00E203574B4B0B252A9FD1F46F01686D6DE579FED9679F6D6A6A3A7EFCF89E3D7BE6BB47241B9AFE2D0CBFFCE52FF57AFDD7BEF6B59FFCE427F3DD1732050AD582F1D7BFFE75CD9A35F3DD0B32350A15218C51A18210C6722D54DCBD7B97CE8F09A9ABABCBF84106A9A657FDBB71E3C613F4879085ADB9B9399766D30B554949C98C3A43C81242E754843046A12284310A15218C51A808618C42450863142A4218A35011C218858A10C62854843046A12284310A15218C51A808618C42450863142A4218A350CDAE6874BE7BF0986824925F1D5A94E823CAD8F237CA782BEC52CCA20170DF637CDA28AD37393B2EEBD23FB9191889443E4D5D96232CF58726D9F1AAE7F9CD9C1C88FCCE69AA7697BE2B5ACAE40010F1BB2E4991F4D60AFEA049A3485B19F59F12789B1F65F6FE6E8B5A3EB31748A646A16224E2775D920A2BF9D475C14EB717C016AD30315180FFDC6ADE96B25CE5766F301A6D195AC69F0D5D3570880EBEE7F20E05BC9526A5DF6D580B8C047DF5E6095F65A57357A7852A1A38A7D7D9FC00B811D1FCF54CDF60BFBECE7D56CB657D952417142A461E0C78EACDC2B6D4CF370F78DFF401507FDAEF3A137CBCB54A774C3BD99E4C3FEA323C37E8118EB82058AE5A84079E1D875DC927E59A7AA7BD93B7F6798C87058DCFA47C100A0288B72C0010DF304D44B4E98DA7C430C0AD179E2F7CFCC9D080F8C73000284CD37ED524A3586EEEDCB95352529263E3A5C86F07D486E3B55A00D0D636392E9FAE9DFCAFBE5D4A6C26D90140E7BE178BC562520300D8FD8FAFF7DB01A0CA1D4A1E6AB4C7A229B7DC0CC562B1587F931A00387BFF633B54DB7B86878787874763B1D04D4B794A478A75E76F0D8FF53A243A74C5F1F52677704E7E500B594D4DCDC58B17A76C46A1622374D590293C9CF6A8C5B0112833D5BDA806D4864306F554A1CA2C25546386DFB7680000EAA664A662FDF69404597A62C33D760DC0955BBAFE3EDC9F9CDD29ABEC6ECF7953226C9C70D43D303C61EF64821C4345D33F3642F707B1D16031AC0ED43B7DD0D69E2CEC3FE5F257359F3FA1683E07F5D9DADA027BF3BBD8BD6F77F48227907557CA3241B96A34D8E90F8253953F5F381A14FBE2B3C7A0EF8C7730D14AA53BA62D5CB50200CAECCE4363DF66AF36BC55D77FDAEB7DC0094A9E2F8682B388215394E31488462AEDCDA161E3197FF09AD5782DB181B6C1697F51284414A0DA051B142A26C2C14000150EEBB115CDF54E1F786383A56E832AB0C5801BBB9DE02C1B95C10E2F6051C6C7862AA51288F4B95C3D01090082377FD41CD2E8E2550ED3B92E4B59BC8AC85B5BDB0DF71B651A6BFC28817AB33571443B7F4CAB2CD6991B06C422CDE82D71BCF2B0525B7B5A5B0B146E10540511FF15D7CD5B92FFA3C181EEC1F0589B628DF07424BEC667D3FBC6AB239CA52764DF3AAB3FABC58F42C50427D4BBCFDF7B5E8EF18284B2AA4E79DF6B3CE1036711B60CFA0D4085924BF97947833E737DBC6E17F0BC11F034F0F12A87D4DADCDC131C0F5B64ACF8C1A99B1C8EA068BEE04BAC18F2EA6D1EC0E3CCD427BB3F662950A81483FC85F851949A0A81AFD6EA3582FA39851C403432F88128F9445F5F7FA0D31F04B0D1ACA7443D310A151B8AF586DAF50082A3001094DA9C0305A578B7D61386F62D137FCB650C833BFCBC3225758A6DD62E5118AFF26D50E11A00F82E9893A10978DE0878C60FA2D41EABD3F645C743B54C215408A13F04151B942BC65A3D8C4F17B9F8EF56B1CBDE2FAA9D825D2A57AE4030D0E60CB44DCCE00A6585C06DABF31DD5A65FDC223390E3291A152AB20ADD3C2A08EB3355FBCAECFDA3C3ED0700A0EEFDD1D83DB70EA95587C70A15B187C349372D00A0BBFC87B135A3892DE2C5C044A92374F398C08133783E4EF664F8E6210E482B6CC48F3295062946B2A242C55C92232A8A7F1C5B546A0EE804488D1D4A779B45D563D65E01388B769B1C1F858293EE24E2BFE6921EC41F07030010143DAEC86A0040016F3AF0F8E5DC3F7BACDD6A939A03448FC1A82CF0D92BE483976A4D17C280CEDD64981871BB3F66290300FF29196F4B5F24AC50A89850A8769D77EF2955AB87DD85BB1B616A7EDBA241E44858C1453DC67DCD6140DB6012E440341A00B0969B700B5164F08F83031D66F3B5D4B529D3BF2AB7F18026E52997B12218ACECB236B9BC4341DEE66F7CA134B047D97F430C8333781C86B5197AE93ABA435C0500A3C10C8B84150A151BCA3DB54A00F08F9FDB40C1C9FD8D95464F1828B3DB5F540288C407AA552BE27582E047FD4100F01AD779517559AAEFEA3A14DF36E58E8A0200C0AAE71FCF61303804EE412402B9E6A4D73D58686C0BFA6E0401A88EBB9DD5CA8C9D54A9B582120082DDA27F287D91B042A19A2DD18F3CE60346671FC0192C06B9F87FCDE2C341DF2517006E991C087A0C5F34FE3C65834FA1282E4D7E3F765404008552555A9ABC6F303A02F9CA642C01CD2BEDAE13AA81B6C6BAD3E73DE3334F0CBEB163F5356D6DB54ED0F2C2469522E5E2937A8FC9A4010069D8ECEC485F24CCE4788A46858ADCC44B0276E9A1642F03007082DD3F3AFA7E5DCA8F9CB388A3B158ACFF34074EA53DE4708B03C3A31FBBABA6FA55C50B09018706D03448039EC7CE9A94558EAE4097A32A758CD225EF3CA242051B54A898572B35960E09061777F6BCE93939EEF3B515814140B951ABD9653495CB01A80E0D8E1E53C813BF81887297C3B125EB3E9FE30060639DEB9650B859AD80B2F9E71E638F4A5B595BFB9A515BAC00205CFDB8F6BEDF7BC575BED515ADB1A69D59690F39844C13C360378D542CE5FA9DBFF16F52BC73E7CE6C7768A18B462251C8158A39B9E5271A892E1B8BE5049F8ECFEEE36F4E94AF9CA471FC9D5DCB148A95B3D3CFC5E2E5975FDEB46913E36F5224539AAB3C250E96ED5829BFDB297AB55241D77C19A2B7D313C218858A10C62854843046A12284310A15218C51A808618C42450863142A4218A35011C218858A10C62854843046A12284310A15218C51A808618C42450863D37B3FD597BEF4A559EA07210BC2A64D9BA66C338D77FE3E717F08590C4A4A4AB237C8355484901CD13915218C51A808618C42450863142A4218A35011C218858A10C62854843046A12284310A15218C51A808618C42450863142A4218A35011C2D8FF030F3B5A8FAE23B7890000000049454E44AE426082>|png>|0.6w|0.6h||>
    <|small-figure>
      <\padded-center>
        \;
      </padded-center>
    </small-figure>
  </padded-center>

  <section|\<#9A71\>\<#52A8\>\<#63A5\>\<#53E3\>>

  \<#4E0B\>\<#9762\>\<#662F\>\<#9A71\>\<#52A8\>\<#7684\>\<#63A5\>\<#53E3\>\<#5B9A\>\<#4E49\>\<#FF1A\>

  <\cpp-code>
    <\fortran>
      type XExternalDriver interface {

      \ \ \ \ \ \ \ \ Test() error

      \ \ \ \ \ \ \ \ Init(map[string]string) error

      \ \ \ \ \ \ \ \ Work() error

      \ \ \ \ \ \ \ \ State() DriverState

      \ \ \ \ \ \ \ \ Read(cmd int, data []byte) (int, error)

      \ \ \ \ \ \ \ \ Write(cmd int, data []byte) (int, error)

      \ \ \ \ \ \ \ \ DriverDetail() DriverDetail

      \ \ \ \ \ \ \ \ Stop() error

      }
    </fortran>
  </cpp-code>

  <section|\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>

  <subsection|Test>

  Test \<#63A5\>\<#53E3\>\<#7528\>\<#6765\>\<#6D4B\>\<#8BD5\>\<#9A71\>\<#52A8\>\<#7684\>\<#53EF\>\<#7528\>\<#6027\>\<#FF0C\>\<#4E00\>\<#822C\>\<#662F\>\<#8BBE\>\<#5907\>\<#521A\>\<#542F\>\<#52A8\>\<#7684\>\<#65F6\>\<#5019\>\<#FF0C\>\<#7ED9\>\<#9A71\>\<#52A8\>\<#53D1\>\<#4E00\>\<#4E2A\>
  Test \<#4FE1\>\<#53F7\>\<#FF0C\>\<#5E38\>\<#7528\>\<#6765\>\<#5224\>\<#65AD\>\<#7269\>\<#7406\>\<#8BBE\>\<#5907\>\<#662F\>\<#5426\>\<#94FE\>\<#8DEF\>\<#901A\>\<#8FBE\>\<#3002\>\<#4F8B\>\<#5982\>\<#53EF\>\<#4EE5\>\<#5C1D\>\<#8BD5\>\<#7ED9\>\<#67D0\>\<#4E2A\>
  IP \<#5730\>\<#5740\>\<#53D1\>\<#9001\> ICMP
  \<#5305\>\<#6D4B\>\<#8BD5\>\<#7F51\>\<#7EDC\>\<#53EF\>\<#8FBE\>\<#6027\>\<#7B49\>\<#3002\>\<#8BE5\>\<#63A5\>\<#53E3\>\<#662F\>\<#4E00\>\<#4E2A\>\<#8F85\>\<#52A9\>\<#6027\>\<#63A5\>\<#53E3\>\<#3002\>

  <subsection|Init>

  \<#9A71\>\<#52A8\>\<#7684\>\<#521D\>\<#59CB\>\<#5316\>\<#51FD\>\<#6570\>\<#FF0C\>\<#8BBE\>\<#5907\>\<#6846\>\<#67B6\>\<#4F1A\>\<#628A\>\<#914D\>\<#7F6E\>\<#53C2\>\<#6570\>\<#4F20\>\<#9012\>\<#7ED9\>\<#8BE5\>\<#51FD\>\<#6570\>\<#FF0C\>configMap
  \<#8868\>\<#793A\>\<#5176\>\<#5DE5\>\<#4F5C\>\<#914D\>\<#7F6E\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#4E32\>\<#53E3\>\<#7684\>\<#6CE2\>\<#7279\>\<#7387\>\<#FF0C\>\<#5947\>\<#5076\>\<#6821\>\<#9A8C\>\<#7B49\>\<#3002\>

  <subsection|Work>

  Work \<#4E00\>\<#822C\>\<#4F5C\>\<#4E3A\>\<#5E38\>\<#9A7B\>\<#4EFB\>\<#52A1\>\<#5B58\>\<#5728\>\<#FF0C\>\<#8868\>\<#793A\>\<#8BE5\>\<#9A71\>\<#52A8\>\<#7684\>\<#4E00\>\<#4E2A\>\<#5DE5\>\<#4F5C\>\<#4E2D\>\<#72B6\>\<#6001\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#6211\>\<#4EEC\>\<#9700\>\<#8981\>\<#5468\>\<#671F\>\<#6027\>\<#91C7\>\<#96C6\>\<#67D0\>\<#4E2A\>\<#4F20\>\<#611F\>\<#5668\>\<#7684\>\<#6570\>\<#636E\>\<#7684\>\<#65F6\>\<#5019\>\<#FF0C\>Work
  \<#4E00\>\<#822C\>\<#7528\>\<#6765\>\<#542F\>\<#52A8\>\<#4E00\>\<#4E2A\>\<#7EBF\>\<#7A0B\>\<#53BB\>\<#52A8\>\<#6001\>\<#8F6E\>\<#8BE2\>\<#3002\>\<#5982\>\<#679C\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#65E0\>\<#5E38\>\<#9A7B\>\<#5DE5\>\<#4F5C\>\<#4EFB\>\<#52A1\>\<#FF0C\>\<#8BE5\>\<#63A5\>\<#53E3\>\<#8FD4\>\<#56DE\>
  nil \<#5373\>\<#53EF\>\<#3002\>

  <subsection|State>

  \<#83B7\>\<#53D6\>\<#72B6\>\<#6001\>\<#FF0C\>\<#8BE5\>\<#72B6\>\<#6001\>\<#4EE3\>\<#8868\>\<#4E86\>\<#9A71\>\<#52A8\>\<#7684\>\<#53EF\>\<#7528\>\<#6027\>\<#FF0C\>\<#9A71\>\<#52A8\>\<#6709\>\<#4EE5\>\<#4E0B\>\<#51E0\>\<#4E2A\>\<#72B6\>\<#6001\>\<#FF1A\>

  <\fortran-code>
    \<centerdot\> DRIVER_STOP\<#FF1A\>\<#72B6\>\<#6001\>\<#4E00\>\<#822C\>\<#7528\>\<#6765\>\<#76F4\>\<#63A5\>\<#505C\>\<#6B62\>\<#4E00\>\<#4E2A\>\<#8D44\>\<#6E90\>\<#FF0C\>\<#76D1\>\<#542C\>\<#5668\>\<#4E0D\>\<#9700\>\<#8981\>\<#91CD\>\<#542F\>

    \;

    \<centerdot\> DRIVER_UP\<#FF1A\>\<#5DE5\>\<#4F5C\>\<#6001\>

    \;

    \<centerdot\> DRIVER_DOWN\<#FF1A\>\<#8D44\>\<#6E90\>\<#6302\>\<#4E86\>\<#FF0C\>\<#5C5E\>\<#4E8E\>\<#5DE5\>\<#4F5C\>\<#610F\>\<#5916\>\<#FF0C\>\<#9700\>\<#8981\>\<#91CD\>\<#542F\>
  </fortran-code>

  <subsection|Read>

  \<#8BBE\>\<#5907\>\<#4F1A\>\<#8C03\>\<#7528\>\<#6B64\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#4E3B\>\<#8981\>\<#7528\>\<#6765\>\<#4ECE\>\<#7269\>\<#7406\>\<#8BBE\>\<#5907\>\<#62FF\>\<#56DE\>\<#539F\>\<#59CB\>\<#6570\>\<#636E\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#4ECE\>\<#4E00\>\<#4E2A\>
  Modbus \<#4ECE\>\<#8BBE\>\<#5907\>\<#53D6\>\<#67D0\>\<#4E9B\>\<#5BC4\>\<#5B58\>\<#5668\>\<#7684\>\<#539F\>\<#59CB\>\<#503C\>\<#7B49\>\<#3002\>

  <subsection|Write>

  \<#8BBE\>\<#5907\>\<#4F1A\>\<#8C03\>\<#7528\>\<#6B64\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#4E3B\>\<#8981\>\<#7528\>\<#6765\>\<#5411\>\<#7269\>\<#7406\>\<#8BBE\>\<#5907\>\<#5199\>\<#539F\>\<#59CB\>\<#6570\>\<#636E\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#5411\>\<#4E00\>\<#4E2A\>
  Modbus \<#4ECE\>\<#8BBE\>\<#5907\>\<#53D6\>\<#5199\>\<#67D0\>\<#4E9B\>\<#5BC4\>\<#5B58\>\<#5668\>\<#7684\>\<#503C\>\<#7B49\>\<#3002\>

  <subsection|DriverDetail>

  \<#83B7\>\<#53D6\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#7684\>\<#8BE6\>\<#7EC6\>\<#4FE1\>\<#606F\>\<#FF0C\>\<#4E00\>\<#822C\>\<#4F1A\>\<#6807\>\<#8BB0\>\<#8BE5\>\<#8BBE\>\<#5907\>\<#7684\>\<#5E95\>\<#5C42\>\<#5143\>\<#4FE1\>\<#606F\>\<#FF0C\>\<#4F8B\>\<#5982\>\<#540D\>\<#79F0\>\<#FF0C\>\<#7248\>\<#672C\>\<#7B49\>\<#FF0C\>\<#4E0B\>\<#9762\>\<#5C55\>\<#793A\>\<#4E00\>\<#4E2A\>\<#73AF\>\<#5883\>\<#4F20\>\<#611F\>\<#5668\>\<#7684\>\<#8BBE\>\<#5907\>\<#8BE6\>\<#60C5\>\<#5143\>\<#6570\>\<#636E\>\<#FF1A\>

  <\cpp-code>
    return typex.DriverDetail{

    \ \ \ \ \ \ \ \ Name: \ \ \ \ \ \ \ "TC-S200",

    \ \ \ \ \ \ \ \ Type: \ \ \ \ \ \ \ "UART",

    \ \ \ \ \ \ \ \ Description: "TC-S200
    \<#7CFB\>\<#5217\>\<#7A7A\>\<#6C14\>\<#8D28\>\<#91CF\>\<#76D1\>\<#6D4B\>\<#4EEA\>",

    }
  </cpp-code>

  <subsection|Stop>

  \<#8BBE\>\<#5907\>\<#505C\>\<#6B62\>\<#540E\>\<#8C03\>\<#7528\>\<#8BE5\>\<#51FD\>\<#6570\>\<#FF0C\>\<#53EF\>\<#5728\>\<#6B64\>\<#91CA\>\<#653E\>\<#786C\>\<#4EF6\>\<#8D44\>\<#6E90\>\<#3002\>

  <section|\<#8FD4\>\<#56DE\>\<#503C\>>

  \<#5E38\>\<#89C1\>\<#8FD4\>\<#56DE\>\<#503C\>\<#FF1A\>

  <\enumerate-numeric>
    <item><strong|n>\<#FF1A\>\<#8FD4\>\<#56DE\>\<#5B57\>\<#8282\>\<#6570\>\<#76EE\>

    <item><strong|error>\<#FF1A\>\<#9519\>\<#8BEF\>\<#72B6\>\<#6001\>

    <item><strong|DriverDetail>\<#FF1A\>\<#8BBE\>\<#5907\>\<#8BE6\>\<#60C5\>
  </enumerate-numeric>

  <section|\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>

  \<#4E0B\>\<#9762\>\<#6211\>\<#4EEC\>\<#7B80\>\<#5355\>\<#5C55\>\<#793A\>\<#4E00\>\<#4E2A\>\<#4E32\>\<#53E3\>\<#9A71\>\<#52A8\>\<#7684\>\<#793A\>\<#4F8B\>\<#3002\>

  <\fortran>
    // uart_driver\<#76F8\>\<#5F53\>\<#4E8E\>\<#662F\>\<#5347\>\<#7EA7\>\<#7248\>\<#FF0C\>\<#8FD9\>\<#4E2A\>\<#662F\>\<#6700\>\<#539F\>\<#59CB\>\<#7684\>\<#57FA\>\<#7840\>\<#9A71\>\<#52A8\>

    package driver

    \;

    import (

    \ \ \ \ \ \ \ \ "context"

    \ \ \ \ \ \ \ \ "errors"

    \;

    \ \ \ \ \ \ \ \ "github.com/i4de/rulex/typex"

    \ \ \ \ \ \ \ \ serial "github.com/wwhai/goserial"

    )

    \;

    type rawUartDriver struct {

    \ \ \ \ \ \ \ \ state \ \ \ \ \ typex.DriverState

    \ \ \ \ \ \ \ \ serialPort serial.Port

    \ \ \ \ \ \ \ \ ctx \ \ \ \ \ \ \ context.Context

    \ \ \ \ \ \ \ \ RuleEngine typex.RuleX

    \ \ \ \ \ \ \ \ device \ \ \ \ *typex.Device

    }

    \;

    // \<#521D\>\<#59CB\>\<#5316\>\<#4E00\>\<#4E2A\>\<#9A71\>\<#52A8\>

    func NewRawUartDriver(

    \ \ \ \ \ \ \ \ ctx context.Context,

    \ \ \ \ \ \ \ \ e typex.RuleX,

    \ \ \ \ \ \ \ \ device *typex.Device,

    \ \ \ \ \ \ \ \ serialPort serial.Port,

    ) typex.XExternalDriver {

    \ \ \ \ \ \ \ \ return &rawUartDriver{

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ RuleEngine: e,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx: \ \ \ \ \ \ \ ctx,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ serialPort: serialPort,

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ device: \ \ \ \ device,

    \ \ \ \ \ \ \ \ }

    }

    \;

    func (a *rawUartDriver) Init(map[string]string) error {

    \ \ \ \ \ \ \ \ a.state = typex.DRIVER_UP

    \;

    \ \ \ \ \ \ \ \ return nil

    }

    \;

    func (a *rawUartDriver) Work() error {

    \ \ \ \ \ \ \ \ return nil

    }

    func (a *rawUartDriver) State() typex.DriverState {

    \ \ \ \ \ \ \ \ return a.state

    }

    func (a *rawUartDriver) Stop() error {

    \ \ \ \ \ \ \ \ a.state = typex.DRIVER_STOP

    \ \ \ \ \ \ \ \ return a.serialPort.Close()

    }

    \;

    func (a *rawUartDriver) Test() error {

    \ \ \ \ \ \ \ \ if a.serialPort == nil {

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return errors.New("serialPort is nil")

    \ \ \ \ \ \ \ \ }

    \ \ \ \ \ \ \ \ _, err := a.serialPort.Write([]byte("\\r\\n"))

    \ \ \ \ \ \ \ \ return err

    }

    \;

    func (a *rawUartDriver) Read(cmd int, b []byte) (int, error) {

    \ \ \ \ \ \ \ \ return a.serialPort.Read(b)

    }

    \;

    func (a *rawUartDriver) Write(cmd int, b []byte) (int, error) {

    \ \ \ \ \ \ \ \ return a.serialPort.Write(b)

    }

    func (a *rawUartDriver) DriverDetail() typex.DriverDetail {

    \ \ \ \ \ \ \ \ return typex.DriverDetail{

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Name: \ \ \ \ \ \ \ "Raw Uart Driver",

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type: \ \ \ \ \ \ \ "RAW_UART",

    \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Description: "Raw Uart Driver",

    \ \ \ \ \ \ \ \ }

    }

    \;
  </fortran>

  \<#4E0A\>\<#8FF0\>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>\<#4E86\>\<#4E00\>\<#4E2A\>\<#57FA\>\<#4E8E\>\<#4E32\>\<#53E3\>\<#6765\>\<#8BFB\>\<#5199\>\<#6570\>\<#636E\>\<#7684\>\<#9A71\>\<#52A8\>\<#FF0C\>\<#8BE5\>\<#6848\>\<#4F8B\>\<#53EF\>\<#4EE5\>\<#7528\>\<#6765\>\<#505A\>\<#5E38\>\<#89C1\>\<#4E32\>\<#53E3\>\<#8BBE\>\<#5907\>\<#7684\>\<#57FA\>\<#7840\>\<#9A71\>\<#52A8\>\<#3002\>

  <chapter|\<#603B\>\<#7ED3\>>

  \<#672C\>\<#6587\>\<#6863\>\<#4E3B\>\<#8981\>\<#8BB2\>\<#8FF0\>\<#4E86\>
  RULEX \<#8FB9\>\<#7F18\>\<#7F51\>\<#5173\>\<#5F00\>\<#53D1\>\<#6846\>\<#67B6\>\<#7684\>\<#9AD8\>\<#7EA7\>\<#7528\>\<#6CD5\>\<#FF0C\>\<#5176\>\<#4E2D\>\<#91CD\>\<#70B9\>\<#8BB2\>\<#89E3\>\<#4E86\>
  LUA \<#5F15\>\<#64CE\>\<#3001\>\<#8BBE\>\<#5907\>\<#3001\>\<#9A71\>\<#52A8\>\<#4E09\>\<#8005\>\<#7684\>\<#7EC6\>\<#8282\>\<#4EE5\>\<#53CA\>\<#7B80\>\<#5355\>\<#793A\>\<#4F8B\>\<#3002\>

  <section|\<#540D\>\<#8BCD\>\<#7406\>\<#89E3\>>

  \<#6700\>\<#540E\>\<#6211\>\<#4EEC\>\<#5C06\>\<#5C06\>\<#5F00\>\<#53D1\>\<#4E2D\>\<#5E38\>\<#89C1\>\<#540D\>\<#8BCD\>\<#6574\>\<#7406\>\<#8FDB\>\<#8868\>\<#683C\>1\<#FF0C\>\<#4F9B\>\<#7ED9\>\<#53C2\>\<#8003\>\<#7406\>\<#89E3\>\<#3002\>

  <\big-table|<block*|<tformat|<cwith|1|1|1|-1|cell-background|pastel
  cyan>|<table|<row|<cell|\<#540D\>\<#8BCD\>>|<cell|\<#89E3\>\<#91CA\>>>|<row|<cell|MDevice>|<cell|\<#8868\>\<#793A\>\<#662F\>\<#9759\>\<#6001\>\<#6570\>\<#636E\>\<#FF0C\>\<#4FDD\>\<#5B58\>\<#5728\>\<#6570\>\<#636E\>\<#5E93\>\<#91CC\>\<#9762\>\<#7684\>\<#FF0C\>\<#76F8\>\<#5F53\>\<#4E8E\>\<#914D\>\<#7F6E\>>>|<row|<cell|Device>|<cell|MDevice\<#52A0\>\<#8F7D\>\<#5230\>\<#7684\>\<#5185\>\<#5B58\>\<#6620\>\<#5C04\>\<#FF0C\>\<#4E5F\>\<#662F\>\<#9759\>\<#6001\>\<#7684\>>>|<row|<cell|XDevice>|<cell|\<#5B9E\>\<#9645\>\<#4E0A\>\<#8FD9\>\<#4E2A\>\<#9759\>\<#6001\>\<#6A21\>\<#578B\>\<#7684\>\<#5B9E\>\<#73B0\>\<#FF0C\>\<#8FD9\>\<#624D\>\<#662F\>\<#771F\>\<#5B9E\>\<#5DE5\>\<#4F5C\>\<#8005\>>>|<row|<cell|Driver>|<cell|\<#5B9E\>\<#9645\>\<#7684\>\<#5DE5\>\<#4F5C\>\<#6001\>\<#9A71\>\<#52A8\>>>|<row|<cell|XExternalDriver>|<cell|\<#901A\>\<#7528\>\<#9A71\>\<#52A8\>\<#63A5\>\<#53E3\>\<#FF0C\>\<#9A71\>\<#52A8\>\<#5FC5\>\<#987B\>\<#5B9E\>\<#73B0\>>>>>>>
    \;
  </big-table>

  <section|\<#5F00\>\<#53D1\>\<#5EFA\>\<#8BAE\>>

  <\enumerate-numeric>
    <item>\<#9A71\>\<#52A8\>\<#6C38\>\<#8FDC\>\<#5173\>\<#6CE8\>\P\<#8BFB\>\Q\<#548C\>\P\<#5199\>\Q\<#FF0C\>\<#800C\>\<#4E0D\>\<#8981\>\<#5173\>\<#6CE8\>\<#8BFB\>\<#51FA\>\<#6765\>\<#7684\>\<#662F\>\<#4E0D\>\<#662F\>\<#5BF9\>\<#7684\>

    <item>\<#8BBE\>\<#5907\>\<#53EA\>\<#7BA1\>\<#95EE\>\<#9A71\>\<#52A8\>\<#8981\>\<#6570\>\<#636E\>\<#FF0C\>\<#7136\>\<#540E\>\<#5C06\>\<#5176\>\<#52A0\>\<#5DE5\>\<#6210\>\<#5E94\>\<#7528\>\<#683C\>\<#5F0F\>\<#FF0C\>\<#8BBE\>\<#5907\>\<#4E0D\>\<#5173\>\<#6CE8\>\<#8BFB\>\<#5199\>\<#7EC6\>\<#8282\>

    <item>\<#8D44\>\<#6E90\>\<#53EA\>\<#7BA1\>\<#6570\>\<#636E\>\<#6D41\>\<#5411\>\<#800C\>\<#4E0D\>\<#7528\>\<#7BA1\>\<#600E\>\<#4E48\>\<#6765\>\<#7684\>\<#FF0C\>\<#53EA\>\<#7BA1\>\<#8F93\>\<#9001\>\<#6216\>\<#8005\>\<#63A5\>\<#6536\>
  </enumerate-numeric>

  <strong|<strong|\<#8BBE\>\<#5907\>\<#3001\>\<#8D44\>\<#6E90\>\<#672C\>\<#8D28\>\<#4E0A\>\<#662F\>\<#4E24\>\<#7C7B\>\<#4E1C\>\<#897F\>\<#FF0C\>\<#8BBE\>\<#5907\>\<#662F\>\<#771F\>\<#5B9E\>\<#7269\>\<#7406\>\<#5668\>\<#6750\>\<#FF0C\>\<#8D44\>\<#6E90\>\<#662F\>\<#903B\>\<#8F91\>\<#5B58\>\<#5728\>\<#7684\>\<#8F6F\>\<#4EF6\>\<#6E90\>\<#6216\>\<#8005\>\<#76EE\>\<#6807\>\<#3002\>>>
</body>

<\initial>
  <\collection>
    <associate|code-numbered-offset|0.5tab>
    <associate|global-title|RULEX \<#8FB9\>\<#7F18\>\<#8BBE\>\<#5907\>\<#5F00\>\<#53D1\>\<#6307\>\<#5357\>>
    <associate|info-flag|detailed>
    <associate|page-height|auto>
    <associate|page-medium|paper>
    <associate|page-screen-margin|false>
    <associate|page-type|a4>
    <associate|page-width|auto>
    <associate|par-columns|1>
    <associate|prog-scripts|python>
  </collection>
</initial>

<\references>
  <\collection>
    <associate|auto-1|<tuple|1|3>>
    <associate|auto-10|<tuple|1|6>>
    <associate|auto-11|<tuple|2|6>>
    <associate|auto-12|<tuple|2.1|6>>
    <associate|auto-13|<tuple|2.2|6>>
    <associate|auto-14|<tuple|2.3|6>>
    <associate|auto-15|<tuple|2.4|6>>
    <associate|auto-16|<tuple|2.5|7>>
    <associate|auto-17|<tuple|2.6|7>>
    <associate|auto-18|<tuple|2.7|7>>
    <associate|auto-19|<tuple|2.8|7>>
    <associate|auto-2|<tuple|1|3>>
    <associate|auto-20|<tuple|2.9|7>>
    <associate|auto-21|<tuple|2.10|7>>
    <associate|auto-22|<tuple|2.11|7>>
    <associate|auto-23|<tuple|3|7>>
    <associate|auto-24|<tuple|4|7>>
    <associate|auto-25|<tuple|3|11>>
    <associate|auto-26|<tuple|1|11>>
    <associate|auto-27|<tuple|1|11>>
    <associate|auto-28|<tuple|2|12>>
    <associate|auto-29|<tuple|2.1|12>>
    <associate|auto-3|<tuple|2|3>>
    <associate|auto-30|<tuple|2.2|12>>
    <associate|auto-31|<tuple|2.3|12>>
    <associate|auto-32|<tuple|2.4|12>>
    <associate|auto-33|<tuple|2.5|12>>
    <associate|auto-34|<tuple|2.6|12>>
    <associate|auto-35|<tuple|2.7|12>>
    <associate|auto-36|<tuple|2.8|12>>
    <associate|auto-37|<tuple|3|13>>
    <associate|auto-38|<tuple|4|13>>
    <associate|auto-39|<tuple|4|15>>
    <associate|auto-4|<tuple|3|3>>
    <associate|auto-40|<tuple|1|15>>
    <associate|auto-41|<tuple|1|15>>
    <associate|auto-42|<tuple|2|15>>
    <associate|auto-5|<tuple|3.1|3>>
    <associate|auto-6|<tuple|3.2|3>>
    <associate|auto-7|<tuple|3.3|4>>
    <associate|auto-8|<tuple|4|4>>
    <associate|auto-9|<tuple|2|5>>
  </collection>
</references>

<\auxiliary>
  <\collection>
    <\associate|figure>
      <tuple|normal|<\surround|<hidden-binding|<tuple>|1>|>
        <with|par-mode|<quote|center>|<\surround|<vspace*|0.5fn><no-indent>|<vspace|0.5fn>>
          \;
        </surround>>
      </surround>|<pageref|auto-26>>
    </associate>
    <\associate|table>
      <tuple|normal|<\surround|<hidden-binding|<tuple>|1>|>
        \;
      </surround>|<pageref|auto-41>>
    </associate>
    <\associate|toc>
      <vspace*|2fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|font-size|<quote|1.19>|1<space|2spc>LUA\<#5F15\>\<#64CE\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-1><vspace|1fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|1<space|2spc>LUA\<#57FA\>\<#7840\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-2><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|2<space|2spc>RULEX\<#6807\>\<#51C6\>\<#5E93\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-3><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|3<space|2spc>\<#57FA\>\<#7840\>\<#793A\>\<#4F8B\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-4><vspace|0.5fn>

      <with|par-left|<quote|1tab>|3.1<space|2spc>\<#6210\>\<#529F\>\<#56DE\>\<#8C03\>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-5>>

      <with|par-left|<quote|1tab>|3.2<space|2spc>\<#5931\>\<#8D25\>\<#56DE\>\<#8C03\>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-6>>

      <with|par-left|<quote|1tab>|3.3<space|2spc>\<#89C4\>\<#5219\>\<#56DE\>\<#8C03\>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-7>>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-8><vspace|0.5fn>

      <vspace*|2fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|font-size|<quote|1.19>|2<space|2spc>\<#8BBE\>\<#5907\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-9><vspace|1fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|1<space|2spc>\<#8BBE\>\<#5907\>\<#63A5\>\<#53E3\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-10><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|2<space|2spc>\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-11><vspace|0.5fn>

      <with|par-left|<quote|1tab>|2.1<space|2spc>Init
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-12>>

      <with|par-left|<quote|1tab>|2.2<space|2spc>Start
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-13>>

      <with|par-left|<quote|1tab>|2.3<space|2spc>OnRead
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-14>>

      <with|par-left|<quote|1tab>|2.4<space|2spc>OnWrite
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-15>>

      <with|par-left|<quote|1tab>|2.5<space|2spc>Status
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-16>>

      <with|par-left|<quote|1tab>|2.6<space|2spc>Stop
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-17>>

      <with|par-left|<quote|1tab>|2.7<space|2spc>Property
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-18>>

      <with|par-left|<quote|1tab>|2.8<space|2spc>Details
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-19>>

      <with|par-left|<quote|1tab>|2.9<space|2spc>SetState
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-20>>

      <with|par-left|<quote|1tab>|2.10<space|2spc>Driver
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-21>>

      <with|par-left|<quote|1tab>|2.11<space|2spc>OnSCACall
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-22>>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|3<space|2spc>\<#8FD4\>\<#56DE\>\<#503C\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-23><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-24><vspace|0.5fn>

      <vspace*|2fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|font-size|<quote|1.19>|3<space|2spc>\<#9A71\>\<#52A8\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-25><vspace|1fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|1<space|2spc>\<#9A71\>\<#52A8\>\<#63A5\>\<#53E3\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-27><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|2<space|2spc>\<#63A5\>\<#53E3\>\<#51FD\>\<#6570\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-28><vspace|0.5fn>

      <with|par-left|<quote|1tab>|2.1<space|2spc>Test
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-29>>

      <with|par-left|<quote|1tab>|2.2<space|2spc>Init
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-30>>

      <with|par-left|<quote|1tab>|2.3<space|2spc>Work
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-31>>

      <with|par-left|<quote|1tab>|2.4<space|2spc>State
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-32>>

      <with|par-left|<quote|1tab>|2.5<space|2spc>Read
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-33>>

      <with|par-left|<quote|1tab>|2.6<space|2spc>Write
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-34>>

      <with|par-left|<quote|1tab>|2.7<space|2spc>DriverDetail
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-35>>

      <with|par-left|<quote|1tab>|2.8<space|2spc>Stop
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-36>>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|3<space|2spc>\<#8FD4\>\<#56DE\>\<#503C\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-37><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|4<space|2spc>\<#6848\>\<#4F8B\>\<#5C55\>\<#793A\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-38><vspace|0.5fn>

      <vspace*|2fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|font-size|<quote|1.19>|4<space|2spc>\<#603B\>\<#7ED3\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-39><vspace|1fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|1<space|2spc>\<#540D\>\<#8BCD\>\<#7406\>\<#89E3\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-40><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|2<space|2spc>\<#5F00\>\<#53D1\>\<#5EFA\>\<#8BAE\>>
      <datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.2fn>.<space|0.2fn>>>>>|<htab|5mm>>
      <no-break><pageref|auto-42><vspace|0.5fn>
    </associate>
  </collection>
</auxiliary>